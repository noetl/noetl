# NoETL Canonical v10 Playbook
# Simple hello world test

apiVersion: noetl.io/v2
kind: Playbook

metadata:
  name: hello_world
  path: tests/fixtures/playbooks/hello_world

workload:
  message: "Hello World"

workflow:
  - step: start
    desc: "Start hello world test"
    tool:
      kind: python
      args: {}
      code: |
        result = {"status": "initialized"}
    next:
      spec:
        mode: exclusive
      arcs:
        - step: test_step

  - step: test_step
    desc: "Hello world test step"
    tool:
      kind: python
      args:
        message: "{{ message }}"
      code: |
        print(f"HELLO_WORLD: {message}")
        result = {"status": "ok", "data": {"message": message}}
    next:
      spec:
        mode: exclusive
      arcs:
        - step: end

  - step: end
    desc: "End hello world test"
    tool:
      kind: python
      args: {}
      code: |
        result = {"status": "complete"}
