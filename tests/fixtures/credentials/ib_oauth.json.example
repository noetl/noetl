{
  "name": "ib_oauth",
  "type": "interactive_brokers_oauth",
  "description": "Interactive Brokers OAuth credentials for paper trading",
  "tags": ["oauth", "ib", "interactive_brokers", "paper_trading", "test"],
  "data": {
    "consumer_key": "YOUR_CONSUMER_KEY_FROM_IBKR_PORTAL",
    "consumer_secret": "YOUR_CONSUMER_SECRET_FROM_IBKR_PORTAL",
    "account_id": "DU8027814",
    "environment": "paper",
    "api_base_url": "https://api.ibkr.com/v1/api",
    "oauth_token_url": "https://api.ibkr.com/v1/oauth2/token",
    "oauth_version": "2.0"
  },
  "account_info": {
    "paper_trading_username": "wzeeym257",
    "paper_trading_password": "Test202$",
    "paper_trading_account_id": "DU8027814",
    "note": "Username/password NOT stored in credential - only used for initial login to IBKR portal to create OAuth app"
  },
  "setup_instructions": [
    "1. Login to IBKR Paper Trading Portal: https://ndcdyn.interactivebrokers.com/sso/Login",
    "2. Use username: wzeeym257, password: Test202$",
    "3. Navigate to: Settings → API → OAuth Applications",
    "4. Click 'Create Application'",
    "5. Application Settings:",
    "   - Name: NoETL Test",
    "   - Type: Server-to-Server",
    "   - Scopes: Read account info, Read portfolio data, Read market data",
    "6. Save and copy Consumer Key and Consumer Secret",
    "7. Replace YOUR_CONSUMER_KEY and YOUR_CONSUMER_SECRET above",
    "8. Register this credential: curl -X POST http://localhost:8083/api/credentials -H 'Content-Type: application/json' --data-binary @ib_oauth.json"
  ],
  "oauth_flow": {
    "grant_type": "client_credentials",
    "token_endpoint": "https://api.ibkr.com/v1/oauth2/token",
    "token_lifetime": "~60 minutes",
    "refresh_strategy": "Fetch new token before expiry"
  },
  "api_documentation": {
    "client_portal_api": "https://www.interactivebrokers.com/campus/ibkr-api-page/cpapi-v1/",
    "oauth_guide": "https://www.interactivebrokers.com/campus/ibkr-api-page/cpapi-v1/#oauth",
    "paper_trading": "https://www.interactivebrokers.com/en/index.php?f=1286"
  }
}
