# NoETL environment file
# Copy this file to create your environment-specific files:
# - .env.common - Common variables for all environments
# - .env.dev - Development environment variables
# - .env.prod - Production environment variables
# - .env.local - Local overrides

ENVIRONMENT="demo"

# Google cloud
GOOGLE_CLOUD_PROJECT="noetl-demo-19700101"
SERVICE_ACCOUNT_EMAIL="noetl-service-account@noetl-demo-19700101.iam.gserviceaccount.com"
GOOGLE_APPLICATION_CREDENTIALS=".secrets/noetl-service-account.json"
GOOGLE_SECRET_POSTGRES_PASSWORD="projects/1014428265962/secrets/postgres-dev-password/versions/1"
GOOGLE_SECRET_API_KEY="projects/166428893489/secrets/api-dev-key"
GCS_ENDPOINT=https://storage.googleapis.com
GCS_REGION=us-central1

# Timezone Environment Variables
TZ=America/Chicago

# Database Configuration
POSTGRES_USER=demo
POSTGRES_PASSWORD=demo
POSTGRES_SCHEMA=public
POSTGRES_DB=demo_noetl
POSTGRES_HOST=localhost
POSTGRES_PORT=54321
PGDATA=/var/lib/postgresql/data/pgdata

# NoETL API Server Configuration
LOG_LEVEL=DEBUG
PYTHONPATH=/opt/noetl
NOETL_DATA_DIR=data
NOETL_POSTGRES_DB=noetl
NOETL_USER=noetl
NOETL_PASSWORD=noetl
NOETL_SCHEMA=noetl
NOETL_DROP_SCHEMA=false
# Mandatory flag: when "true", the server will validate the schema and create missing tables on startup.
NOETL_SCHEMA_VALIDATE=false
NOETL_HOST=localhost
NOETL_PORT=8099
NOETL_ENABLE_UI=true
NOETL_DEBUG=true
NOETL_SERVER=uvicorn
NOETL_SERVER_WORKERS=1
NOETL_SERVER_RELOAD=false
NOETL_AUTO_RECREATE_RUNTIME=true
# Interval in seconds between sweeper iterations that mark stale runtimes offline
NOETL_HEARTBEAT_RETRY_AFTER=3
NOETL_RUNTIME_SWEEP_INTERVAL=15
# Seconds since last_heartbeat after which a runtime is marked offline
NOETL_RUNTIME_OFFLINE_SECONDS=60
NOETL_DISABLE_METRICS=true
NOETL_SERVER_METRICS_INTERVAL=60

# Mandatory server identity (required by Settings)
NOETL_SERVER_URL=http://localhost:8083
NOETL_SERVER_NAME=server-local

# Jupyter Configuration
JUPYTER_TOKEN=noetl

# Worker Pool Configuration
NOETL_WORKER_POOL_NAME=worker-cpu
NOETL_WORKER_POOL_RUNTIME=local

# State Program Reporting Database Configuration
STATE_REPORT_PG_HOST=localhost
STATE_REPORT_PG_PORT=54321
STATE_REPORT_PG_USER=bhs_state_program_dev
STATE_REPORT_PG_PASSWORD=0QngFmiTnIQXVnQSiszW
STATE_REPORT_PG_DB=bhs_state_program_dev

# When NoETL runs inside Kubernetes (e.g., reached via port-forward), it cannot use your Mac's localhost.
# Use the in-cluster Service DNS name and Service port for the SQL proxy.
STATE_REPORT_PG_HOST_FROM_NOETL=tranzit-dev-sql-proxy.noetl.svc.cluster.local
STATE_REPORT_PG_PORT_FROM_NOETL=5432

STATE_REPORT_EXCEL_GCS_URI=gs://bhs-state-program-reports2-dev/exports/state_report_7_Hills_Department.xlsx
