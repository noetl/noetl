# NoETL Server Environment Variables
# Local development server connecting to kind cluster postgres

# Timezone (must match postgres)
TZ=UTC

# Database Connection (kind cluster postgres)
POSTGRES_HOST=localhost
POSTGRES_PORT=54321
POSTGRES_USER=demo
POSTGRES_PASSWORD=demo
POSTGRES_DB=demo_noetl

# NoETL Schema (in postgres)
NOETL_POSTGRES_DB=noetl
NOETL_USER=noetl
NOETL_PASSWORD=noetl
NOETL_SCHEMA=noetl
NOETL_SCHEMA_VALIDATE=true
NOETL_DROP_SCHEMA=false

# Server Configuration
NOETL_HOST=0.0.0.0
NOETL_PORT=8083
NOETL_ENABLE_UI=true
NOETL_DEBUG=true
NOETL_SERVER=uvicorn
NOETL_SERVER_WORKERS=1
NOETL_SERVER_RELOAD=false

# Server Identity (mandatory)
NOETL_SERVER_URL=http://localhost:8083
NOETL_SERVER_NAME=server-local

# Runtime Management
NOETL_AUTO_RECREATE_RUNTIME=true
NOETL_HEARTBEAT_RETRY_AFTER=3
NOETL_RUNTIME_SWEEP_INTERVAL=15
NOETL_RUNTIME_OFFLINE_SECONDS=60

# Logging
LOG_LEVEL=INFO
PYTHONPATH=/opt/noetl

# Metrics
NOETL_DISABLE_METRICS=true
NOETL_SERVER_METRICS_INTERVAL=60

# Data Directory
NOETL_DATA_DIR=data

# NATS Configuration (kind cluster via localhost port mapping)
NATS_URL=nats://noetl:noetl@localhost:30422
NATS_USER=noetl
NATS_PASSWORD=noetl
NATS_STREAM=NOETL_COMMANDS
NATS_CONSUMER=noetl_worker_pool
NATS_SUBJECT=noetl.commands
